# -------------------------------
# GLOBAL SETTINGS
# -------------------------------
project:
  name: "AI Supply Chain Risk Predictor"     # Project name used in logs and dashboard
  environment: "hackathon"                   # Running mode: hackathon or production
  random_state: 42                           # Ensures reproducible ML results

# -------------------------------
# FORECASTING SETTINGS
# -------------------------------
forecasting:
  horizon_days: 7                            # Number of future days to forecast
  retrain_frequency_days: 1                  # How often the model is retrained

# -------------------------------
# INVENTORY & RISK SETTINGS
# -------------------------------
risk:
  stockout_threshold: 0                     # Inventory <= this triggers stock-out
  overstock_multiplier: 1.5                 # Avg demand × multiplier → overstock risk
  demand_spike_multiplier: 1.3              # Sudden demand surge detection threshold

inventory:
  days_of_cover: 7                          # Days of demand inventory should cover

supplier:
  max_delay_days: 5                         # Max simulated supplier delay (days)

# -------------------------------
# MACHINE LEARNING MODEL
# -------------------------------
model:
  type: "HistGradientBoostingRegressor"     # ML model used for demand forecasting

  params:
    max_iter: 300                           # Number of boosting iterations
    learning_rate: 0.05                     # Learning speed (lower = safer)
    max_depth: 6                            # Tree depth (controls complexity)
    min_samples_leaf: 20                    # Min samples per leaf (reduces noise)
    l2_regularization: 0.1                  # Regularization to avoid overfitting
    max_bins: 255                           # Histogram bins for fast training
    loss: "squared_error"                   # Regression loss function
    early_stopping: true                    # Stop when performance stops improving

# -------------------------------
# FEATURE ENGINEERING
# -------------------------------
features:
  lags: [1, 7, 14]                          # Historical days used as lag features
  rolling_windows: [7, 14]                  # Rolling average windows (trend capture)
  drop_na: true                             # Remove rows with missing lag data

# -------------------------------
# LOCAL LLM (DEEPSEEK-R1 1.5B)
# -------------------------------
local_llm:
  enabled: true                             # Enable local reasoning model
  model_name: "deepseek-r1-1.5b"            # Name of downloaded DeepSeek model
  model_path: "./models/deepseek-r1-1.5b"   # Local filesystem path to model
  backend: "transformers"                   # Backend used to load the model

  temperature: 0.2                          # Low value = logical, stable explanations
  max_new_tokens: 250                       # Max tokens generated per explanation
  device: "auto"                            # Auto-select CPU or GPU
  dtype: "float16"                          # Memory-efficient precision

  system_role: "supply_chain_analyst"       # Role/persona for explanations

# -------------------------------
# OUTPUT & LOGGING
# -------------------------------
output:
  save_forecasts: true                      # Save forecasts to output files
  save_explanations: true                   # Save generated explanations
  verbosity: 1                              # Logging level (0=quiet, 2=debug)
